import{_ as N,a as _,E as T}from"./index.DQ72aMia.js";import{d as v,s as o,o as L,c as x,I as s,w as d,j as e,a as p,t as B}from"./framework.C1DFsOn5.js";const k=e("p",null," 不使用插槽，会根据notificationType类型匹配预制模板（目前支持的notificationType模板类型：RELEASE_NOTE，后续会新增） ",-1),C=e("br",null,null,-1),I=e("p",null,"使用插槽，可自定义每条消息的消息描述：",-1),S=e("br",null,null,-1),M=e("p",null," 添加i18n映射字段由外部传入翻译后的文字，格式为 i18n: {'i18n-[field]': 'i18nFieldName'} ",-1),E=e("br",null,null,-1),g=e("p",null," 使用 i-notify-sdk 组件由外部系统直接传入api在组件内部轮询获取 notifyList ",-1),O=e("br",null,null,-1),W=e("p",null," （一种实验性测试，由于传入的Promise对象response返回的数据格式每个系统设计的不一致，比如：res/res.data,组件内部无法保证能够正常的取到需要的数据，不推荐使用） ",-1),w=e("br",null,null,-1),D=e("p",null," 1.该实验为了验证在组件内部传入接口调用方法，用于被组件直接调用，会造成心智负担和困惑 ",-1),F=e("p",null," 2.还有一种假设是api地址直接传入（文档未演示），在组件内部直接fetch,但是接口依赖系统用户体系，需要使用者传入实时token，也会造成心智负担 ",-1),V=e("br",null,null,-1),R=e("p",null," 综上，在组件内部直接调用api不是一种合理的方式，组件应该只关注数据源格式是否正确，而不处理接口逻辑，也更方便后续各个系统做定制化拓展 ",-1),P=v({__name:"basic",setup(z){const t=o({}),m=o({}),n=o([{label:"Notification",key:"other"},{label:"Alert",key:"SYSTEM_ALERT"},{label:"To-do",key:"TODO"}]),c=o([{id:"66b5c82c632a312fe1adc807",state:!0,systemNotificationId:"66b5c726632a312fe1adbc71",userId:"25584",createWhen:"2024-08-09T00:41:32.731",createName:"M Ch",createBy:"m.central@disbox.net",systemNotificationView:{id:"66b5c726632a312fe1adbc71",version:"1.0",title:"test1",notificationType:"RELEASE_NOTE",type:1,releaseDate:"2024-08-05T22:10:22",createBy:"m.central@disbox.net",createName:"M Ch",createWhen:"2024-08-09T00:37:10.494",application:"Item Ship",phase:"phase 2",featureNote:"aaaaa",bugFixNote:"bbbbbb",optimizeNote:"vvvvvvvvvv",platform:"11"}},{id:"66b5c82c632aassfe1adc807",state:!1,systemNotificationId:"66b5c726632a3ssse1adbc71",userId:"25584",createWhen:"2024-07-29T00:41:32.731",createName:"M Ch",createBy:"m.central@disbox.net",systemNotificationView:{id:"66b5c726632a3ssse1adbc71",version:"1.0",title:"test2",notificationType:"SYSTEM_ALERT",type:1,releaseDate:"2024-08-05T22:10:22",createBy:"m.central@disbox.net",createName:"M Ch",createWhen:"2024-08-09T00:37:10.494",application:"Item Ship",phase:"phase 2",featureNote:"1",bugFixNote:"1",optimizeNote:"1",platform:"11"}},{id:"66b5c82c632adddfe1adc807",state:!1,systemNotificationId:"66b5c726632a3fffe1adbc71",userId:"25584",createWhen:"2024-07-29T00:41:32.731",createName:"M Ch",createBy:"m.central@disbox.net",systemNotificationView:{id:"66b5c726632a3fffe1adbc71",version:"1.0",title:"test3",notificationType:"TODO",type:1,releaseDate:"2024-08-05T22:10:22",createBy:"m.central@disbox.net",createName:"M Ch",createWhen:"2024-08-09T00:37:10.494",application:"Item Ship",phase:"phase 2",featureNote:"1",bugFixNote:"1",optimizeNote:"1",platform:"11"}},{id:"66b5c82c632adddfaaadc807",state:!1,systemNotificationId:"66b5c726632a3faae1adbc71",userId:"25584",createWhen:"2024-07-29T00:41:32.731",createName:"M Ch",createBy:"m.central@disbox.net",systemNotificationView:{id:"66b5c726632a3faae1adbc71",version:"1.0",title:"test3",notificationType:"TODO",type:1,releaseDate:"2024-08-05T22:10:22",createBy:"m.central@disbox.net",createName:"M Ch",createWhen:"2024-08-09T00:37:10.494",application:"Item Ship",phase:"phase 2",featureNote:"1",bugFixNote:"1",optimizeNote:"1",platform:"11"}},{id:"66b5c82c632adddfssadc807",state:!1,systemNotificationId:"66b5c726632a3ssfaae1adbc71",userId:"25584",createWhen:"2024-07-29T00:41:32.731",createName:"M Ch",createBy:"m.central@disbox.net",systemNotificationView:{id:"66b5c726632a3ssfaae1adbc71",version:"1.0",title:"test3",notificationType:"TODO",type:1,releaseDate:"2024-08-05T22:10:22",createBy:"m.central@disbox.net",createName:"M Ch",createWhen:"2024-08-09T00:37:10.494",application:"Item Ship",phase:"phase 2",featureNote:"1",bugFixNote:"1",optimizeNote:"1",platform:"11"}},{id:"66b5c82c632asddddfssadc807",state:!1,systemNotificationId:"66b5c726632a3sdssfaae1adbc71",userId:"25584",createWhen:"2024-07-29T00:41:32.731",createName:"M Ch",createBy:"m.central@disbox.net",systemNotificationView:{id:"66b5c726632a3sdssfaae1adbc71",version:"1.0",title:"test3",notificationType:"TODO",type:1,releaseDate:"2024-08-05T22:10:22",createBy:"m.central@disbox.net",createName:"M Ch",createWhen:"2024-08-09T00:37:10.494",application:"Item Ship",phase:"phase 2",featureNote:"1",bugFixNote:"1",optimizeNote:"1",platform:"11"}}]),r=o([{name:"Mark all as read",onClick:function(){console.log("Mark all as read",t.value.currentNotifyList);const a=t.value.currentNotifyList.map(f=>f.id);console.log("ids",a)}},{name:"View inbox",onClick:function(){console.log("View inbox")}}]),l=a=>{console.log("clickNotify",a)},u=()=>(f=>(console.log("userSystemNotificationSearchApi被请求了"),new Promise(i=>{setTimeout(()=>{i(c.value)},1e3)})))();return(a,f)=>{const i=N,b=T,y=_;return L(),x("div",null,[k,s(i,{ref_key:"notifyRef",ref:t,tabList:n.value,notifyList:c.value,footerBtnList:r.value,onClickNotify:l},null,8,["tabList","notifyList","footerBtnList"]),C,I,s(i,{ref_key:"notifyRef",ref:t,tabList:n.value,notifyList:c.value,footerBtnList:r.value,onClickNotify:l},{detail:d(({currentNotify:h})=>[s(b,{type:"primary"},{default:d(()=>[p("这是自定义消息描述")]),_:1}),p(": "+B(h),1)]),_:1},8,["tabList","notifyList","footerBtnList"]),S,M,s(i,{ref_key:"notifyRef",ref:t,tabList:n.value,notifyList:c.value,footerBtnList:r.value,i18n:{"i18n-featureNote":"What’s New?(这里可以传入$t翻译的值)","i18n-optimizeNote":"Optimization(这里可以传入$t翻译的值)","i18n-bugFixNote":"Bug Fixed(这里可以传入$t翻译的值)"},onClickNotify:l},null,8,["tabList","notifyList","footerBtnList","i18n"]),E,g,O,W,w,D,F,V,R,s(y,{ref_key:"notifySdkRef",ref:m,tabList:n.value,footerBtnList:r.value,userSystemNotificationSearchApi:u,intervalTime:15e3,onClickNotify:l},null,8,["tabList","footerBtnList"])])}}});export{P as default};
